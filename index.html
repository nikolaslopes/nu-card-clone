<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NU CARD CLONE</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">

  <style>
    body {
      background: rgb(36, 36, 36);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: 'Roboto', sans-serif;
      font-weight: 500;
    }

    main {
      background: #820AD1;
      padding: 1em;
      border-radius: 10px;
      width: 15em;
      height: 25em;
      box-shadow: 5px 8px 8px #000;
    }

    img[alt=mastercard-logo] {
      width: 30%;
    }

    img[alt=chip-logo] {
      width: 40%;
      transform: rotate(90deg);
    }

    footer img {
      width: 35%;
    }

    article {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    header {
      height: 70%;
    }

    .box-img {
      display: flex;
      align-items: flex-start;
    }

    footer {
      height: 30%;
    }

    footer p {
      margin-left: 1em;
    }

  </style>

</head>
  <body>
    <h1>Nikolas Lopes :)</h1>
      </br>
    <main>
      <article>
        <header>
          <div class="box-img">
            <img src="./assets//images/mc-logo.svg" alt="mastercard-logo">
            <img src="./assets//images/chip.png" alt="chip-logo">
          </div>
        </header>

        <footer>
          <p>Nikolas Lopes</p>
          <img src="./assets//images/nubank-logo.svg" alt="nubank-logo">
        </footer>
      </article>
    </main>
  </body>
  <script>
    const card = document.querySelector('main');


    card.addEventListener("mousemove", cardMouseEffect);
    card.addEventListener("mouseleave", cardBackToEffect);
    card.addEventListener("mouseenter", cardEnterOnEffect);

    function cardMouseEffect(event) {
      const cardWidth = card.offsetWidth;
      const cardHeight = card.offsetHeight;
      const centerX = card.offsetLeft + (cardWidth/2);
      const centerY = card.offsetTop + (cardHeight/2);
      const positionX = event.clientX - centerX;
      const positionY = event.clientY - centerY;

      const rotateX = ((+1)*25*positionY/(cardHeight/2)).toFixed(2);
      const rotateY = ((-1)*25*positionX/(cardWidth/2)).toFixed(2);

      card.style.transform = `perspective(500px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    }

    function cardBackToEffect(event) {
      card.style.transform = `perspective(500px) rotateX(0deg) rotateY(0deg)`;
      cardEffectTransition();
    }

    function cardEffectTransition() {
      clearInterval(card.transitionId);
      card.style.transition = 'transform 300ms';

      card.transitionId = setTimeout(() => {
        card.style.transition = '';
      }, 400);
    }

    function cardEnterOnEffect(event) {
      cardEffectTransition();
    }
  </script>
</html>
